{% comment %} {% include "navbar.html" %} {% endcomment %}
{% comment %} <h2>Home Template  
  {{homepage}}</h2> {% endcomment %}


  <!doctype html>
  <html lang="en">
    <head>
      <!-- Required meta tags -->
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
      <!-- Bootstrap CSS -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
     
      <title>Home</title>
      <style>
        .mainbody{
          display:grid;
          grid-template-columns:1fr 3fr;
        }
        

      </style>

    </head>
    <body>

      <h5>{% include "navbar.html" %}</h5>
      <hr>
      {% if request.user.is_authenticated%}
          <a href = {% url 'UserLogout' %} >LogOut</a>
      {%else%}
          <a href = {% url 'UserLogin' %} >LogIN</a>  
          
      {%endif%}

      


     <div class ="mainbody">

      <div class = "sideBar">
        
        <h3> Browse Topics</h3>
        <hr>
        <a href ="{% url 'home'%}"> <strong>Home</strong></a>
        {% for topic in topics %}
        <div>
          
         <a href = "{% url 'home' %}?q={{topic.name}}">{{topic.name}}</a> {% comment %} # the value to search from search bar will replace q here  
         we are using the url tag to create a url for the home page and we are passing the value of the topic.name as a query parameter {% endcomment %}

          
        </div>
        
        {% endfor %}



      </div>
      {% comment %} <h2>List of Rooms in base/HOME : </h2> {% endcomment %}
      <div> 

        {% if request.user.is_authenticated%}{% comment %} here we are checking if the user is authenticated then show the Welcome Message {% endcomment %}
        <H1>&nbsp; &nbsp; &nbsp; &nbsp; Welcome {{request.user}} !!!</H1>
        {%endif%}


        <a href= "{% url 'create-room'%}">Create a Room</a>

        <h3>{%for room in rooms%}    
          {%if request.user == room.host.username %}  

          {% comment %} if the user registered is Host of Room then, we will show him the UPDATE AND DELETE OPTIONS {% endcomment %}
          <p><small><a href= "{% url 'update-room' room.id %}">Edit</a></small></p>
          <p><small><a href= "{% url 'delete-room' room.id %}">Delete Room</a></small></p>
          {%endif%}

          <small> @{{room.host.username}}</small>   {% comment %} here we are printing the username of the host of the room {% endcomment %}
          {% comment %} <div>{{room.id}} <span> --- </span> <a href= "/room/{{room.id}}">{{room.name}} </a></div>   {% endcomment %}
          <div>{{room.id}} <span> --- </span> <a href= "{% url 'room' room.id%} ">{{room.name}}<br><small>"{{room.description}}"</small> </a></div>  
           {% comment %} here we are giving a unique url to every room and every room has a unique id  {% endcomment %}
          <small> {{room.topic}} </small>
          <hr>

          {%endfor%}
        </h3>
  
      </div>
     </div>
    
    </body>
  </html>
  